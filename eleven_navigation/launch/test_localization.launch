<?xml version="1.0"?>
<launch>
    <param name="use_sim_time" value="true" />

    <!-- Arguments -->
    <arg name="bag_file" default="$(find eleven_slam)/bags/test_mapping.bag"/>
    <arg name="rosbag_rate" default="1" />


    <arg name="open_rviz" default="true"/>

    <!-- rviz -->
    <group if="$(arg open_rviz)">
        <node name="rviz" pkg="rviz" type="rviz" required="true" args="-d $(find eleven_navigation)/config/test_localization.rviz"/>
    </group>

    <!-- Map server -->
    <include file="$(find eleven_navigation)/launch/includes/map_server.launch">
        <arg name="map_name" default="wg_map"/>
    </include>

    <!-- Localization -->
    <include file="$(find eleven_navigation)/launch/includes/amcl.launch"/>

    <!-- Trajectory path -->
    <include file="$(find eleven_navigation)/launch/includes/trajectory_server.launch"/>

    <!-- Playback rosbag -->
    <node name="player" pkg="rosbag" type="play" output="screen" args="--clock $(arg bag_file)"/>

</launch>